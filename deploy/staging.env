# Staging Environment Configuration
# Core Features
ENABLE_QUANTUM=true
ENABLE_RESONANCE=true
PROCESSING_FREQUENCY=100
HARMONY_TARGET=0.951

# Phase A Features (dormant â†’ staging)
ENABLE_CONSCIOUSNESS_OS=true
ENABLE_UNIVERSAL_PROTOCOL=true
ENABLE_TRANSCENDENT=true

# Phase B Features (still dormant)
ENABLE_CNPL=true
ENABLE_SAQRN=true

# Redis TLS Configuration
REDIS_URL=rediss://:Mamasega008@redis.featherweight.world:6380
REDIS_CA=/etc/ssl/certs/redis-ca.pem
# Fallback for local dev (requires ALLOW_INSECURE_REDIS=true)
# REDIS_URL=redis://127.0.0.1:6379

# Database
DATABASE_URL=postgresql://sigil_user:10j8HGsDSCnz5rILz1mYJYnwaEvX59Ug@127.0.0.1:5432/sigil_staging?sslmode=disable

# JWT Configuration (RS256 for API, HS256 for WS)
# API (RS256 via JWKS)
JWT_ISSUER=https://auth.featherweight.world/realms/featherweight
JWT_AUDIENCE=sigil-api
JWT_JWKS_URI=https://auth.featherweight.world/realms/featherweight/protocol/openid-connect/certs
# WS (HS256 subprotocol token)
JWT_SECRET=0add8741b5fdfedfb8a324492dde0edb52504466bcac5edbdee255ae21be22258135945d166bf655126bd4c8feff2448614197fb535640e9c68614be7ae511eb
# Example (commented):
# JWT_ISSUER=https://auth.your-idp.com/
# JWT_AUDIENCE=sigil-api
# JWT_JWKS_URI=https://auth.your-idp.com/.well-known/jwks.json

# Security
SPIRAL_EVENT_SECRET=e964ad60f3c64b4201823d454d4a0e9403ca3c04f6e1c09e8ab329f1f68ab88104d5c12c42fbbd52e653dc117add2729e93c4a3379b8e886f7bbd2f1b21a4e34

# Rate Limiting (per-route overrides)
SIGIL_RATE_LIMIT_QUANTUM=30
SIGIL_RATE_LIMIT_RESONANCE=30
SIGIL_RATE_LIMIT_OS=20
SIGIL_RATE_LIMIT_UNIVERSAL=20
SIGIL_RATE_LIMIT_TRANSCENDENT=15

# WebSocket Configuration (standardized ports)
CONSCIOUSNESS_PORT=3012
WS_PORT=3015
ENABLE_FULL_CONSCIOUSNESS_WS=true
ENABLE_UNIFIED_CONSCIOUSNESS=true

# Metrics and Monitoring
ALLOW_ANONYMOUS_METRICS=false
# Optional: token-gated metrics scraping (preferred)
METRICS_BEARER_TOKEN=kczYCp8wnJeK+2+913Koaclxc5hNkcue

# Sigil API Router
DISABLE_SIGIL_ROUTER=false

# Hardening
ALLOW_INSECURE_REDIS=false

# Logging
LOG_LEVEL=info
NODE_ENV=staging
SIGIL_PORT=3004
